import{r as p,j as s,u as D,N as oe,I as Qe,a as Ge,D as te,L as ue,b as He,A as Ie,R as De,c as ze,C as We,B as k,d as Oe,e as le,f as pe,g as _,h as Xe,U as Ye,s as Te,i as Ze,k as Le,l as Ee,m as H,n as z,o as be,p as Ce,M as we,q as A,t as ke,T as es,v as ss,w as ts,x as as,y as Fe,z as $e,E as ns,F as os,G as rs,S as is,H as ls,J as cs,P as ds,K as Pe,O as ve,Q as us,V as Me,W as ps,X as Re,Y as ms,Z as gs,_ as hs,$ as js,a0 as fs,a1 as ys,a2 as xs,a3 as Es,a4 as Be,a5 as bs,a6 as Cs,a7 as Ss,a8 as _s,a9 as vs,aa as Rs,ab as Ts,ac as Ps,ad as ws,ae as Ns,af as As,ag as ks,ah as Us,ai as he,aj as Is,ak as Ds}from"./vendor-D6JTUcUk.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function a(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=a(o);fetch(o.href,r)}})();const Os=()=>{const[e,t]=p.useState({});return{alert:e,setAlert:t}},Je=p.createContext(null),ae=()=>{const e=p.useContext(Je);if(!e)throw new Error("useAlertContext must be used within a AlertContextProvider");return e},Ls=({children:e})=>s.jsx(Je.Provider,{value:{...Os()},children:e}),Fs=({children:e})=>s.jsx(Ls,{children:e}),{Header:$s}=ue,Ms=()=>{D(a=>a.project);const{user:e}=D(a=>a.users),t=[{label:s.jsxs(oe,{to:`/users/${e==null?void 0:e.id}`,className:"menu-item",children:[s.jsx(Qe,{size:20})," ",s.jsx("span",{children:"Profile"})]}),key:"profile"},{label:s.jsxs("div",{className:"menu-item",children:[s.jsx(Ge,{size:20})," ",s.jsx("span",{children:"Settings"})]}),key:"settings"},{label:s.jsx(te,{style:{margin:0}}),key:"divider",type:"divider"},{label:"Logout",key:"logout"}];return s.jsx(ue,{children:s.jsx($s,{className:"header",children:s.jsxs("div",{className:"header-container",children:[s.jsx("div",{className:"header-title",children:s.jsx("h2",{children:"Task Manager"})}),s.jsx("div",{className:"header-user flex",children:s.jsx(He,{menu:{items:t},trigger:["click"],className:"flex",overlayClassName:"user-menu-dropdown",children:s.jsxs("div",{children:[s.jsx(Ie,{icon:s.jsx(De,{}),src:e==null?void 0:e.profileImage}),s.jsx(ze,{style:{color:"grey",fontSize:"10px",marginLeft:"3px"}})]})})})]})})})},Bs=e=>{const{item:t,onClickEdit:a}=e;return s.jsxs(We,{cover:t!=null&&t.imageUrl?s.jsx("img",{alt:"project-cover-image",src:t.imageUrl}):s.jsx("img",{style:{opacity:.7},alt:"project-cover-image",src:"http://res.cloudinary.com/dvw1phdxp/image/upload/v1723963247/avatars/1723963245266.jpg"}),bordered:!1,className:"ProjectCard",children:[s.jsxs("div",{className:"ProjectCard-title",children:[s.jsx("h3",{children:t==null?void 0:t.name}),s.jsx(k,{type:"primary",icon:s.jsx(Oe,{}),onClick:n=>{n.stopPropagation(),n.preventDefault(),a(t)},className:"icon-button"})]}),s.jsx("p",{className:"ProjectCard-description",children:t.description})]})},Q=e=>{const{field:t,label:a,htmlFor:n,className:o="",placeholder:r,required:d,disabled:c,error:i,style:l}=e;return s.jsxs("div",{className:le("Input",o),style:l,children:[s.jsx("label",{htmlFor:n,className:le("input-label",d&&"required"),children:a}),s.jsx(pe,{...t,placeholder:r,required:d,disabled:c}),i&&s.jsx("p",{className:"field-error",children:i==null?void 0:i.message})]})};var Js={REACT_APP_BACKEND_URL:"localhost:9000",NVM_INC:"/Users/vitalii/.nvm/versions/node/v18.20.4/include/node",TERM_PROGRAM:"vscode",NODE:"/Users/vitalii/.nvm/versions/node/v18.20.4/bin/node",INIT_CWD:"/Users/vitalii/Documents/Projects/dnd-task-manager/client",_P9K_TTY:"/dev/ttys005",NVM_CD_FLAGS:"-q",TERM:"xterm-256color",SHELL:"/bin/zsh",TMPDIR:"/var/folders/tg/mdgcw8xj5739r7gk97hg27mh0000gn/T/",npm_config_global_prefix:"/Users/vitalii/.nvm/versions/node/v18.20.4",TERM_PROGRAM_VERSION:"1.90.2",ZDOTDIR:"/Users/vitalii",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",MallocNanoZone:"0",COLOR:"1",npm_config_noproxy:"",npm_config_local_prefix:"/Users/vitalii/Documents/Projects/dnd-task-manager/client",ZSH:"/Users/vitalii/.oh-my-zsh",NVM_DIR:"/Users/vitalii/.nvm",USER:"vitalii",LS_COLORS:"di=1;36:ln=35:so=32:pi=33:ex=31:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43",COMMAND_MODE:"unix2003",npm_config_globalconfig:"/Users/vitalii/.nvm/versions/node/v18.20.4/etc/npmrc",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.LlCTHPDiTT/Listeners",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x0",npm_execpath:"/Users/vitalii/.nvm/versions/node/v18.20.4/lib/node_modules/npm/bin/npm-cli.js",PAGER:"less",LSCOLORS:"Gxfxcxdxbxegedabagacad",PATH:"/Users/vitalii/Documents/Projects/dnd-task-manager/client/node_modules/.bin:/Users/vitalii/Documents/Projects/dnd-task-manager/node_modules/.bin:/Users/vitalii/Documents/Projects/node_modules/.bin:/Users/vitalii/Documents/node_modules/.bin:/Users/vitalii/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/Users/vitalii/.nvm/versions/node/v18.20.4/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/Users/vitalii/.nvm/versions/node/v18.20.4/bin:/Users/vitalii/.nvm/versions/node/v14.21.3/bin:/Users/vitalii/.nvm/versions/node/v14.21.3/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Users/vitalii/.nvm/versions/node/v14.21.3/bin",npm_package_json:"/Users/vitalii/Documents/Projects/dnd-task-manager/client/package.json",_:"/Users/vitalii/Documents/Projects/dnd-task-manager/client/node_modules/.bin/vite",npm_config_userconfig:"/Users/vitalii/.npmrc",npm_config_init_module:"/Users/vitalii/.npm-init.js",USER_ZDOTDIR:"/Users/vitalii",__CFBundleIdentifier:"com.microsoft.VSCode",npm_command:"run-script",PWD:"/Users/vitalii/Documents/Projects/dnd-task-manager/client",VSCODE_NONCE:"98498f55-4e65-439f-874f-211949e51c3f",npm_lifecycle_event:"build",EDITOR:"vi",P9K_SSH:"0",npm_package_name:"dnd-task-manager-client",P9K_TTY:"old",LANG:"en_US.UTF-8",npm_config_npm_version:"10.7.0",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",XPC_FLAGS:"0x0",npm_config_node_gyp:"/Users/vitalii/.nvm/versions/node/v18.20.4/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",npm_package_version:"0.1.0",XPC_SERVICE_NAME:"0",VSCODE_INJECTION:"1",SHLVL:"2",HOME:"/Users/vitalii",VSCODE_GIT_ASKPASS_MAIN:"/private/var/folders/tg/mdgcw8xj5739r7gk97hg27mh0000gn/T/AppTranslocation/5CC8EFE6-33AF-4324-8639-29B0A31C582E/d/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",npm_config_cache:"/Users/vitalii/.npm",LESS:"-R",LOGNAME:"vitalii",npm_lifecycle_script:"vite build",VSCODE_GIT_IPC_HANDLE:"/var/folders/tg/mdgcw8xj5739r7gk97hg27mh0000gn/T/vscode-git-23a47b8d99.sock",NVM_BIN:"/Users/vitalii/.nvm/versions/node/v18.20.4/bin",npm_config_user_agent:"npm/10.7.0 node/v18.20.4 darwin x64 workspaces/false",VSCODE_GIT_ASKPASS_NODE:"/private/var/folders/tg/mdgcw8xj5739r7gk97hg27mh0000gn/T/AppTranslocation/5CC8EFE6-33AF-4324-8639-29B0A31C582E/d/Visual Studio Code.app/Contents/Frameworks/Code Helper (Plugin).app/Contents/MacOS/Code Helper (Plugin)",GIT_ASKPASS:"/private/var/folders/tg/mdgcw8xj5739r7gk97hg27mh0000gn/T/AppTranslocation/5CC8EFE6-33AF-4324-8639-29B0A31C582E/d/Visual Studio Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh",npm_node_execpath:"/Users/vitalii/.nvm/versions/node/v18.20.4/bin/node",npm_config_prefix:"/Users/vitalii/.nvm/versions/node/v18.20.4",COLORTERM:"truecolor",NODE_ENV:"production"};const v=`http://${Js.REACT_APP_BACKEND_URL}`,M=class M{};M.getProjectTasks=async t=>await _.get(`${v}/projects/${t}/tasks`),M.updateProjectTasks=async(t,a)=>await _.put(`${v}/projects/${t}/tasks`,a),M.addNewTask=async t=>await _.post(`${v}/tasks/create`,t),M.updateTask=async(t,a)=>await _.put(`${v}/tasks/${t}`,a),M.deleteTask=async t=>await _.delete(`${v}/tasks/${t}`),M.uploadImage=async t=>await _.post(`${v}/tasks/upload-image`,t,{headers:{"Content-Type":"multipart/form-data"}});let q=M;const B=class B{};B.getUser=async t=>await _.get(`${v}/current/${t}`),B.getUsers=async()=>await _.get(`${v}/users`),B.addUser=async t=>await _.post(`${v}/users`,t),B.updateUser=async t=>await _.put(`${v}/users/${t.id}`,t),B.deleteUser=async t=>await _.delete(`${v}/users/${t}`),B.uploadImage=async t=>await _.post(`${v}/users/upload-image`,t,{headers:{"Content-Type":"multipart/form-data"}});let fe=B;const qs=async e=>{try{const t=new FormData;t.append("file",e);const{status:a,data:n}=await q.uploadImage(t);if(a===200)return n}catch(t){console.log(t)}},Ks=async e=>{try{const t=new FormData;t.append("file",e);const{status:a,data:n}=await fe.uploadImage(t);if(a===200)return n}catch(t){console.log(t)}},Vs=e=>{const t=e.type==="image/jpeg"||e.type==="image/png";t||Te.error("You can only upload JPG/PNG file!");const a=e.size/1024/1024<2;return a||Te.error("Image must smaller than 2MB!"),t&&a},qe=e=>{const{imageUrl:t,setImageUrl:a,cropAspectRatio:n}=e,[o,r]=p.useState(!1),d=async b=>{let j=b.url;j||(j=await new Promise(x=>{const m=new FileReader;m.readAsDataURL(b.originFileObj),m.onload=()=>x(m.result)}));const y=new Image;y.src=j;const E=window.open(j);E==null||E.document.write(y.outerHTML)},c=b=>{if(b.file.status==="uploading"){r(!0);return}b.file.status==="done"&&(r(!1),a(b.file.response))},i=async({onProgress:b,onError:j,onSuccess:y,file:E})=>{try{b({percent:0});const x=await Ks(E);x?(b({percent:100}),y(x,E)):j(new Error("Something went wrong"))}catch(x){j(x)}},l=s.jsxs("button",{style:{border:0,background:"none"},type:"button",children:[o?s.jsx(Ze,{}):s.jsx(Le,{}),s.jsx("div",{style:{marginTop:8},children:"Upload"})]}),h=e.type==="cover";return s.jsx(Xe,{rotationSlider:!0,aspect:n,children:s.jsx(Ye,{name:"avatar",listType:h?"picture-card":"picture-circle",className:le("avatar-uploader",h&&"cover"),showUploadList:!1,customRequest:i,beforeUpload:Vs,onChange:c,onPreview:d,children:t?s.jsx(Ie,{shape:h?"square":"circle",icon:s.jsx(De,{}),src:t,size:100}):l})})},ce="This field is required",Qs=()=>({type:"PROJECTS_REQUEST"}),Gs=e=>({type:"PROJECTS_SUCCESS",payload:e}),Hs=e=>{var t;return{type:"PROJECTS_REQUEST_ERROR",payload:(t=e==null?void 0:e.response)==null?void 0:t.data}},zs=()=>({type:"PROJECTS_REQUEST"}),Ws=()=>({type:"PROJECTS_SUCCESS"}),Xs=e=>{var t;return{type:"PROJECTS_REQUEST_ERROR",payload:(t=e==null?void 0:e.response)==null?void 0:t.data}},Ys=()=>({type:"PROJECT_REQUEST"}),Zs=e=>({type:"PROJECT_SUCCESS",payload:e}),et=e=>{var t;return{type:"PROJECT_REQUEST_ERROR",payload:(t=e==null?void 0:e.response)==null?void 0:t.data}},st=e=>({type:"ADD_PROJECT",payload:e}),tt=e=>({type:"UPDATE_PROJECT",payload:e}),$={getProjectsRequest:Qs,getProjectsSuccess:Gs,getProjectsError:Hs,postProjectRequest:zs,postProjectSuccess:Ws,postProjectError:Xs,getProjectRequest:Ys,getProjectSuccess:Zs,getProjectError:et,addProject:st,updateProject:tt},ee=class ee{};ee.getProjects=async()=>await _.get(`${v}/projects`),ee.getProjectById=async t=>await _.get(`${v}/projects/${t}`),ee.createProject=async t=>await _.post(`${v}/projects/create`,t),ee.updateProject=async t=>await _.put(`${v}/projects/${t.id}`,t);let se=ee;const N={CREATE:1,EDIT:2},{TextArea:at}=pe,nt=Ee({name:H().min(2,"Please, add at least 2 symbols").max(150,"Please, make it shorter than 50 symbols").required(ce),description:H().min(2,"Please, add at least 2 symbols").max(550,"Please, make it shorter than 550 symbols")}).required(),ot=e=>{const{modal:t,setModal:a,selectedProject:n}=e,{setAlert:o}=ae(),r=z(),{control:d,handleSubmit:c,setValue:i,formState:{errors:l,isDirty:h,isValid:b}}=be({defaultValues:{id:void 0,name:"",description:"",imageUrl:""},resolver:Ce(nt),mode:"all"});p.useEffect(()=>{n&&(i("id",n==null?void 0:n.id),i("name",(n==null?void 0:n.name)||""),i("description",(n==null?void 0:n.description)||""),i("imageUrl",(n==null?void 0:n.imageUrl)||""))},[n]);const j=async y=>{try{if(t.type===N.CREATE){const x=(await se.createProject(y)).data;r($.addProject(x)),o({type:"success",message:"Project created successfully!"}),a({open:!1,type:N.CREATE})}if(t.type===N.EDIT){const x=(await se.updateProject(y)).data;r($.updateProject(x)),o({type:"success",message:"Project updated successfully!"}),a({open:!1,type:N.CREATE})}}catch(E){console.error(E),t.type===N.CREATE&&o({type:"error",message:"Could not create project"}),t.type===N.EDIT&&o({type:"error",message:"Could not update project"})}};return s.jsx(we,{title:t.type===N.CREATE?"Create new project":"Edit project",open:t.open,className:"new-project-modal",onCancel:()=>a({open:!1,type:N.CREATE}),width:700,footer:null,children:s.jsxs("form",{onSubmit:c(j),className:"new-project-modal__form",children:[s.jsx(A,{name:"name",control:d,render:({field:y,fieldState:{error:E}})=>s.jsx(Q,{field:y,label:"Project name",htmlFor:"name",required:!0,placeholder:"Project name",error:E,style:{marginBottom:"20px"}})}),s.jsx(A,{name:"description",control:d,render:({field:y})=>{var E,x;return s.jsxs("div",{className:"Input",style:{marginBottom:"20px"},children:[s.jsx("label",{className:"input-label required",children:"Description"}),s.jsx(at,{placeholder:"Describe your project",autoSize:{minRows:3,maxRows:20},maxLength:550,showCount:!0,required:!0,...y}),((E=l.description)==null?void 0:E.message)&&s.jsx("p",{className:"required-field-message",children:(x=l.description)==null?void 0:x.message})]})}}),s.jsx(A,{name:"imageUrl",control:d,render:({field:y})=>s.jsxs("div",{className:"Input",style:{marginBottom:"20px"},children:[s.jsx("label",{className:"input-label",children:"Project image"}),s.jsx(qe,{imageUrl:y.value,setImageUrl:E=>i("imageUrl",E,{shouldDirty:!0}),cropAspectRatio:2/1,type:"cover"})]})}),s.jsx(te,{}),s.jsx("div",{className:"new-project-modal__buttons-wrapper",children:s.jsxs("div",{className:"new-project-modal__buttons-wrapper__right",children:[s.jsx(k,{onClick:()=>a({open:!1,type:N.CREATE}),children:"Cancel"}),s.jsx(k,{type:"primary",onClick:c(j),style:{marginLeft:"20px"},disabled:!h||!b,children:t.type===N.CREATE?"Create":"Edit"})]})})]})})},xe=class xe{};xe.addNewContainer=async t=>await _.post(`${v}/projects/${t.projectId}/containers`,t),xe.getProjectContainers=async t=>await _.get(`${v}/projects/${t}/containers`);let ye=xe;const G=class G{};G.getProjectLabels=async t=>await _.get(`${v}/projects/${t}/labels`),G.addNewProjectLabel=async(t,a)=>await _.post(`${v}/projects/${t}/labels`,a),G.updateProjectLabel=async(t,a)=>await _.put(`${v}/projects/${t}/labels/${a.id}`,a),G.updateProjectLabels=async(t,a)=>await _.put(`${v}/projects/${t}/labels`,a),G.deleteLabel=async(t,a)=>await _.delete(`${v}/projects/${t}/labels/${a}`);let de=G;const rt=()=>({type:"PROJECT_CONTAINERS_REQUEST"}),it=e=>({type:"PROJECT_CONTAINERS_SUCCESS",payload:e}),lt=e=>{var t;return{type:"PROJECT_CONTAINERS_REQUEST_ERROR",payload:(t=e==null?void 0:e.response)==null?void 0:t.data}},ct=e=>({type:"ADD_CONTAINER",payload:e}),je={getContainersRequest:rt,getContainersSuccess:it,getContainersError:lt,addContainer:ct},dt=()=>({type:"TOGGLE_UPDATE_TASK_MODAL"}),ut=()=>({type:"PROJECT_TASKS_REQUEST"}),pt=e=>({type:"PROJECT_TASKS_SUCCESS",payload:e}),mt=e=>{var t;return{type:"PROJECT_TASKS_REQUEST_ERROR",payload:(t=e==null?void 0:e.response)==null?void 0:t.data}},gt=e=>{var t;return{type:"UPDATE_TASKS_ERROR",payload:(t=e==null?void 0:e.response)==null?void 0:t.data}},ht=e=>({type:"SET_NEW_TASK",payload:e}),jt=e=>({type:"SET_TASK",payload:e}),ft=e=>({type:"DELETE_TASK",payload:e}),J={toggleUpdateTaskModal:dt,getTasksRequest:ut,getTasksSuccess:pt,getTasksError:mt,setNewTask:ht,setTask:jt,deleteTask:ft,updateTasksError:gt},yt=()=>({type:"PROJECT_LABELS_REQUEST"}),xt=e=>({type:"PROJECT_LABELS_SUCCESS",payload:e}),Et=e=>{var t;return{type:"PROJECT_LABELS_REQUEST_ERROR",payload:(t=e==null?void 0:e.response)==null?void 0:t.data}},bt=e=>({type:"UPDATE_LABEL",payload:e}),Ct=e=>({type:"UPDATE_LABELS",payload:e}),St=e=>({type:"ADD_LABEL",payload:e}),re={getLabelsRequest:yt,getLabelsSuccess:xt,getLabelsError:Et,updateLabels:Ct,addLabel:St,updateLabel:bt},_t=()=>({type:"USER_REQUEST"}),vt=e=>({type:"USER_SUCCESS",payload:e}),Rt=e=>{var t;return{type:"USER_REQUEST_ERROR",payload:(t=e==null?void 0:e.response)==null?void 0:t.data}},Tt=e=>({type:"SET_USER",payload:e}),ie={getUserRequest:_t,getUserSuccess:vt,getUserError:Rt,setUser:Tt},me=()=>{const e=z();return{getProjects:async()=>{try{e($.getProjectsRequest());const{status:i,data:l}=await se.getProjects();i===200&&e($.getProjectsSuccess(l))}catch(i){e($.getProjectsError(i)),console.log(i)}},updateProjectTasks:async(i,l)=>{try{await q.updateProjectTasks(i,l)}catch(h){e(J.updateTasksError(h)),console.log(h)}},getProjectById:async i=>{try{e($.getProjectRequest());const{status:l,data:h}=await se.getProjectById(i);l===200&&e($.getProjectSuccess(h))}catch(l){e($.getProjectError(l)),console.log(l)}},getProjectTasks:async i=>{try{e(J.getTasksRequest());const{status:l,data:h}=await q.getProjectTasks(i);l===200&&e(J.getTasksSuccess(h))}catch(l){e(J.getTasksError(l)),console.log(l)}},getProjectContainers:async i=>{try{e(je.getContainersRequest());const{status:l,data:h}=await ye.getProjectContainers(i);l===200&&e(je.getContainersSuccess(h))}catch(l){e(je.getContainersError(l)),console.log(l)}},getLabels:async i=>{try{e(re.getLabelsRequest());const{status:l,data:h}=await de.getProjectLabels(i);l===200&&e(re.getLabelsSuccess(h))}catch(l){e(re.getLabelsError(l)),console.log(l)}},getUser:async i=>{try{e(ie.getUserRequest());const{status:l,data:h}=await fe.getUser(i);l===200&&e(ie.getUserSuccess(h))}catch(l){e(ie.getUserError(l)),console.log(l)}}}},{Content:Pt}=ue,wt=()=>{const{projects:e,isFetching:t}=D(i=>i.project),[a,n]=p.useState(null),[o,r]=p.useState({open:!1,type:N.CREATE}),{getProjects:d}=me();p.useEffect(()=>{e.length===0&&d()},[]);const c=i=>{r({open:!0,type:N.EDIT}),n(i)};return s.jsxs(Pt,{className:"Dashboard",children:[s.jsxs("div",{className:"dashboard-title-wrapper",children:[s.jsx("h2",{className:"dashboard-title",children:"My Dashboard"}),s.jsx(k,{type:"primary",onClick:()=>r({open:!0,type:N.CREATE}),children:"Create project"})]}),s.jsxs("div",{className:"dashboard-projects__wrapper",children:[s.jsx("h3",{className:"dashboard-projects__title",children:"Open Projects"}),s.jsx(ke,{grid:{column:4,gutter:16,xs:1,sm:3,lg:3},dataSource:e,renderItem:i=>s.jsx(ke.Item,{children:e&&s.jsx(s.Fragment,{children:s.jsx(oe,{to:`/projects/${i.id}`,children:s.jsx(Bs,{item:i,onClickEdit:c})})})})})]}),o.open&&s.jsx(ot,{modal:o,setModal:r,selectedProject:a})]})},Nt=e=>{const{priority:t}=e,a={low:s.jsx(ss,{size:16,color:"#0a66e4",weight:"bold"}),medium:s.jsx(ts,{size:16,color:"rgb(245, 205, 71)",weight:"bold"}),high:s.jsx(as,{size:16,color:"#c9372c",weight:"bold"})};return s.jsx("div",{className:"PriorityIcon",children:s.jsx(es,{title:`${t} priority`,overlayClassName:"priority-tooltip",arrow:!1,children:a[t]})})},At=e=>{const t=z(),{id:a,task:n}=e,{name:o,labels:r,images:d}=n;return s.jsxs("div",{className:"Card",onClick:()=>t(J.toggleUpdateTaskModal()),children:[!!(d!=null&&d.length)&&s.jsxs("div",{children:[s.jsx("div",{className:"card-img",children:s.jsx("img",{src:d[0],alt:"task"})}),s.jsx(te,{})]}),s.jsx("span",{className:"card-name",children:o}),!!(r!=null&&r.length)&&s.jsx("div",{className:"flex",children:r.map(c=>s.jsx(Fe,{color:c.value,className:"card-label",style:{color:c.color},children:c.label},c.id))}),s.jsxs("footer",{children:[s.jsxs("span",{children:[s.jsx($e,{twoToneColor:"#1890ff"}),s.jsx("span",{children:" - "}),a]}),s.jsx(Nt,{priority:n.priority})]})]},a)},Ke=({task:e,dragOverlay:t,id:a,onClickTask:n})=>{const o={cursor:t?"grabbing":"grab"};return s.jsx("div",{style:o,className:"item",onClick:()=>e&&n&&n(e),children:e&&s.jsx(At,{id:a,task:e})})},kt=e=>{const{attributes:t,listeners:a,setNodeRef:n,transform:o,transition:r,isDragging:d}=ns({id:e.id}),c={transform:os.Transform.toString(o),transition:r,opacity:d?.5:1,width:"100%"};return s.jsx("div",{ref:n,style:c,...t,...a,children:s.jsx(Ke,{id:e.id,task:e.task,onClickTask:e.onClickTask})})};function Ut(e){const{id:t,items:a,name:n}=e,{isOver:o,setNodeRef:r}=rs({id:t});return s.jsx(s.Fragment,{children:s.jsx(is,{id:t,items:a,strategy:ls,children:s.jsxs("div",{className:"droppable-container",ref:r,children:[s.jsx("div",{className:"droppable-container__name-wrapper",children:s.jsx("h4",{className:"droppable-container__name",children:n})}),s.jsx(te,{style:{margin:"7px 0"}}),a.map(d=>s.jsx(kt,{id:d.id,task:d,onClickTask:e.onClickTask},d.id))]})})})}const It={toolbar:[[{header:2},{header:3}],[{color:[]}],["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],["link","image"],["clean"]]},Dt=e=>{const[t,a]=p.useState(""),n=p.useRef(null),o=p.useCallback(()=>{const r=document.createElement("input");r.setAttribute("type","file"),r.setAttribute("accept","image/*"),r.click(),r.onchange=async()=>{if(r!==null&&r.files!==null){const d=r.files[0],c=await e.handleUpload(d),i=n.current;if(i){const l=i.getEditor().getSelection();l&&i.getEditor().insertEmbed(l.index,"image",c)}}}},[n]);return s.jsx(cs,{ref:n,theme:"snow",value:(e==null?void 0:e.value)??t,onChange:(e==null?void 0:e.onChange)??a,modules:{toolbar:{container:It.toolbar,handlers:{image:o}}},...e})},Ot=e=>{const{content:t,title:a,trigger:n,open:o,onOpen:r,children:d,className:c,style:i,placement:l}=e;return s.jsx(ds,{content:t,title:a,trigger:n,open:o,onOpenChange:r,className:c,style:i,placement:l,children:d})},Lt=[{value:"#44546F",border:"#44546F",color:"#fff"},{value:"#0B66E3",border:"#0B66E3",color:"#fff"},{value:"#1F845A",border:"#1F845A",color:"#fff"},{value:"#F5CD47",border:"#F5CD47",color:"#172B4D"},{value:"#d46b08",border:"#d46b08",color:"#fff"},{value:"#C9372C",border:"#C9372C",color:"#fff"},{value:"#9e1068",border:"#9e1068",color:"#fff"},{value:"#6E5DC6",border:"#6E5DC6",color:"#fff"},{value:"#F0F2F4",border:"#44546F",color:"#44546F"},{value:"#E9F2FF",border:"#0055CC",color:"#0055CC"},{value:"#DCFFF1",border:"#226E4E",color:"#226E4E"},{value:"#FFF7D6",border:"#A54800",color:"#A54800"},{value:"#ffe7ba",border:"#d46b08",color:"#d46b08"},{value:"#FFECEB",border:"#AE2E24",color:"#AE2E24"},{value:"#fff0f6",border:"#d12e93",color:"#d12e93"},{value:"#F3F0FF",border:"#5E4DB2",color:"#5E4DB2"}],Ft=e=>{const{children:t,open:a,onOpen:n,className:o,placement:r}=e,{getLabels:d}=me(),{setAlert:c}=ae(),{project:i}=D(f=>f.project),{labels:l}=D(f=>f.labels),[h,b]=p.useState([]),[j,y]=p.useState(null),[E,x]=p.useState(!1),m=z();let S=p.useRef(null);const L=p.useRef(null);p.useEffect(()=>{d(i==null?void 0:i.id)},[i]),p.useEffect(()=>{b(l)},[l]),p.useEffect(()=>{function f(T){L.current&&!L.current.contains(T.target)&&(y(null),b(l))}return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[L,l]);const P=()=>s.jsx("div",{className:"color-palette",children:Lt.map(f=>s.jsx(k,{style:{backgroundColor:`${f.value}`,width:"20px",height:"20px",borderColor:`${f.border}`,borderRadius:"5px",marginRight:"5px",padding:"0"},onClick:()=>{if(j){const T={...j,value:f.value,color:f.color},U=h.map(I=>I.id===j.id?T:I);y(T),b(U)}}},f.value))}),W=f=>{f&&(S.current=f,y(f))},X=async()=>{x(!0);const f=!l.find(T=>T.id===(j==null?void 0:j.id));try{if(f){const T=await de.addNewProjectLabel(i==null?void 0:i.id,j);m(re.addLabel(T.data)),x(!1),y(null),c({type:"success",message:"Updated successfully!"})}else{const T=await de.updateProjectLabel(i==null?void 0:i.id,j);m(re.updateLabel(T.data)),x(!1),y(null),c({type:"success",message:"Updated successfully!"})}}catch(T){x(!1),c({type:"error",message:"Something went wrong!"}),console.error(T)}},Y=s.jsxs("div",{className:"labels-popover-content",children:[h.map((f,T)=>s.jsx(pe,{ref:S,value:f.label,style:{color:`${f.color}`,backgroundColor:`${f.value}`,width:"200px",marginBottom:"10px"},onFocus:()=>W(f),onChange:U=>{const I=[...h];I[T].label=U.target.value,b(I)}},f.id)),s.jsx(k,{type:"primary",icon:s.jsx(Le,{}),onClick:f=>{f.stopPropagation();const T=h.reduce((U,I)=>Math.max(U,I.id),0);b([...h,{id:T+1,projectId:i==null?void 0:i.id,label:"",value:"#F0F2F4",border:"#44546F",color:"#44546F"}])},className:"icon-button",style:{marginLeft:"auto",marginRight:"3px",marginBottom:"10px",width:"25px",height:"25px"}}),s.jsx(s.Fragment,{children:j&&s.jsxs("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column"},ref:L,children:[s.jsx(P,{}),s.jsx(k,{type:"text",style:{marginTop:"20px"},onClick:X,children:E?s.jsx(Pe,{size:"small",className:"loader"}):"Update"})]})})]});return s.jsx(Ot,{content:Y,open:a,onOpen:n,trigger:"click",className:o,placement:r,children:t})},$t=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"}],Mt=Ee({name:H().min(2,"Please, add at least 2 symbols").max(150,"Please, make it shorter than 50 symbols").required(ce)}).required(),Bt=e=>{const{label:t,value:a,closable:n,onClose:o,labelsDict:r}=e,{value:d,color:c}=r[a]||{},i=l=>{l.preventDefault(),l.stopPropagation()};return s.jsx(Fe,{color:d,onMouseDown:i,closable:n,onClose:o,style:{marginRight:3,color:c},children:t},a)},Jt=e=>{const{projectId:t,modal:a,setModal:n,selectedTask:o,setSelectedTask:r}=e,{containers:d}=D(u=>u.containers),{labels:c}=D(u=>u.labels),{setAlert:i}=ae(),l=z(),[h,b]=p.useState(!1),[j,y]=p.useState(!1),E=d.map(u=>({value:u.id,label:u.name})),x=a.type===N.CREATE,{control:m,handleSubmit:S,reset:L,setValue:P,watch:W,formState:{errors:X,isDirty:Y,isValid:f}}=be({defaultValues:{id:void 0,name:"",description:"",labels:[],priority:"",containerId:E[0].value,images:[]},resolver:Ce(Mt),mode:"all"});p.useEffect(()=>{var u,C;o&&(P("id",o.id),P("name",o.name),P("description",o.description),P("labels",(u=o.labels)==null?void 0:u.map(({id:g,label:w})=>({value:g,label:w}))),P("priority",o.priority),P("containerId",o.containerId),(C=o==null?void 0:o.images)!=null&&C.length&&P("images",o.images))},[o]);const T=p.useMemo(()=>{const u={};return c.forEach(C=>{u[C.id]=C}),u},[c]),U=()=>{n({open:!1,type:N.CREATE}),r(null),setTimeout(()=>L(),500)},I=async u=>{try{if(x){const C={...u,id:Date.now(),projectId:t,containerId:u.containerId,labels:(c==null?void 0:c.filter(w=>{var R;return(R=u.labels)==null?void 0:R.find(ne=>ne.value===w.id)}))||[]},g=await q.addNewTask(C);l(J.setNewTask(g.data)),i({type:"success",message:"Task created successfully!"}),U()}else{const C=await q.updateTask(u.id,{...u,labels:(c==null?void 0:c.filter(g=>{var w;return(w=u.labels)==null?void 0:w.find(R=>R.value===g.id)}))||[]});l(J.setTask(C.data)),i({type:"success",message:"Updated successfully!"}),U()}}catch(C){i({type:"error",message:"Something went wrong!"}),console.log(C)}},Se=async()=>{if(o)try{await q.deleteTask(o.id),l(J.deleteTask(o.id)),i({type:"success",message:"Task deleted successfully!"}),U()}catch(u){i({type:"error",message:"Something went wrong!"}),console.log(u)}},_e=async u=>{try{const C=await qs(u),g=W("images")||[];return P("images",[...g,C]),C}catch(C){console.log(C)}};return s.jsx(we,{title:x?"New Task":s.jsxs("div",{style:{paddingLeft:"10px"},children:[s.jsx($e,{twoToneColor:"#1890ff"}),s.jsx("span",{children:" - "}),s.jsx("span",{style:{fontSize:"14px",fontWeight:"400"},children:o==null?void 0:o.id})]}),open:a.open,className:"new-task-modal",onCancel:U,width:1e3,footer:s.jsxs("div",{className:"new-task-modal__buttons-wrapper",children:[s.jsx("div",{className:"new-task-modal__buttons-wrapper__left",children:o&&s.jsx(k,{type:"primary",danger:!0,onClick:Se,children:"Delete"})}),s.jsxs("div",{className:"new-task-modal__buttons-wrapper__right",children:[s.jsx(k,{onClick:U,children:"Cancel"}),s.jsx(k,{type:"primary",onClick:S(I),style:{marginLeft:"20px"},disabled:!Y||!f,children:"Submit"})]})]}),children:s.jsxs("form",{onSubmit:S(I),className:"new-task-modal__form",children:[s.jsxs("div",{className:"new-task-modal__left",children:[s.jsx(A,{name:"name",control:m,render:({field:u})=>s.jsx(pe,{placeholder:"Task name",...u,className:le(!x&&"hidden-input"),style:{fontSize:"16px",fontWeight:"600"}})}),s.jsx("span",{className:"input-field-title",children:"Description"}),s.jsx(A,{name:"description",control:m,render:({field:u})=>s.jsx(Dt,{value:u.value,onChange:C=>u.onChange(C),placeholder:"Describe your task",className:le("new-task-modal__text-editor",!x&&"hidden-editor",j&&"focused"),onFocus:()=>y(!0),onBlur:()=>y(!1),handleUpload:_e})})]}),s.jsxs("div",{className:"new-task-modal__right",children:[s.jsx("span",{className:"input-field-title",children:"Section"}),s.jsx(A,{name:"containerId",control:m,render:({field:u})=>s.jsx(ve,{options:E,...u})}),s.jsx("span",{className:"input-field-title",children:"Priority"}),s.jsx(A,{name:"priority",control:m,render:({field:u})=>s.jsx(ve,{options:$t,...u})}),s.jsx("span",{className:"input-field-title",children:"Label"}),s.jsxs("div",{style:{display:"flex"},children:[s.jsx(A,{name:"labels",control:m,render:({field:u})=>s.jsx(ve,{mode:"multiple",tagRender:C=>Bt({...C,labelsDict:T}),defaultValue:null,options:c.map(({id:C,label:g})=>({value:C,label:g})),...u,optionFilterProp:"label",labelInValue:!0,style:{width:"100%"}})}),s.jsx(Ft,{open:h,onOpen:b,placement:"bottomRight",labels:c||[],children:s.jsx(k,{type:"primary",icon:s.jsx(Oe,{}),onClick:u=>{u.stopPropagation(),b(!0)},className:"icon-button",style:{marginLeft:"10px",width:"42px"}})})]})]})]})})},qt=Ee({name:H().min(2,"Please, add at least 2 symbols").max(150,"Please, make it shorter than 50 symbols").required(ce)}).required(),Kt=e=>{const{projectId:t,open:a,setModal:n}=e,{setAlert:o}=ae(),r=z(),{control:d,handleSubmit:c,formState:{errors:i,isValid:l,isDirty:h}}=be({defaultValues:{id:void 0,name:"",projectId:t},resolver:Ce(qt),mode:"all"}),b=async j=>{try{await ye.addNewContainer(j),r(je.addContainer(j)),o({type:"success",message:"Section added successfully!"}),n(!1)}catch(y){console.error(y),o({type:"error",message:"Failed to add new section"})}};return s.jsx(we,{title:"Add new Section",open:a,className:"new-section-modal",onCancel:()=>n(!1),width:700,footer:null,children:s.jsxs("form",{onSubmit:c(b),className:"new-section-modal__form",children:[s.jsx(A,{name:"name",control:d,render:({field:j,fieldState:{error:y}})=>s.jsx(Q,{placeholder:"Section name",field:j,label:"Section name",htmlFor:"name",required:!0,error:y})}),s.jsx(te,{}),s.jsx("div",{className:"new-section-modal__buttons-wrapper",children:s.jsxs("div",{className:"new-section-modal__buttons-wrapper__right",children:[s.jsx(k,{onClick:()=>n(!1),children:"Cancel"}),s.jsx(k,{type:"primary",onClick:c(b),style:{marginLeft:"20px"},disabled:!h||!l,children:"Submit"})]})})]})})},Vt=(e,t)=>[...e.slice(0,t),...e.slice(t+1)],Qt=(e,t,a)=>[...e.slice(0,t),a,...e.slice(t)],Gt=(e,t,a)=>us(e,t,a),Ue=(e,t,a,n,o,r)=>({...e,[t]:Vt(e[t],a),[n]:Qt(e[n],o,r)}),Ht=(e,t)=>{let a={};return t==null||t.forEach(n=>{a[n.id]=[]}),e==null||e.forEach(n=>{var o,r;(o=a[n.containerId])==null||o.push(n),(r=a[n.containerId])==null||r.sort((d,c)=>d.sortId-c.sortId)}),a},zt=e=>Object.values(e).flat(),{Content:Wt}=ue,Xt=()=>{const[e,t]=p.useState({}),[a,n]=p.useState(null),[o,r]=p.useState(void 0),[d,c]=p.useState(null),{updateProjectTasks:i,getProjectById:l,getProjectTasks:h,getProjectContainers:b,getLabels:j}=me(),{project:y,isFetching:E}=D(g=>g.project),{tasks:x,isFetching:m}=D(g=>g.tasks),{containers:S,isFetching:L}=D(g=>g.containers),{projId:P}=Me(),[W,X]=p.useState({open:!1,type:N.CREATE}),[Y,f]=p.useState(!1),T=E||m||L;p.useEffect(()=>{l(+P),h(+P),b(+P),j(+P)},[P]),p.useEffect(()=>{if(x.length&&S.length>0){const g=Ht(x,S);t(g)}},[x,S,P]);const U=ps(Re(Es,{activationConstraint:{tolerance:5,delay:300}}),Re(xs),Re(ys,{coordinateGetter:fs})),I=({active:g})=>{const w=g.data.current.sortable.containerId;r(e[w].find(R=>R.id===g.id)),n(g.id)},Se=()=>{n(null),r(void 0)},_e=g=>{var V;const{active:w,over:R}=g;if(!(R==null?void 0:R.id)||!w.data.current||!R.data.current)return;const K=w.data.current.sortable.containerId,O=((V=R.data.current)==null?void 0:V.sortable.containerId)||R.id,Z=w.data.current.sortable.index,ge=R.id in e?e[O].length+1:R.data.current.sortable.index;K!==O&&t(F=>Ue(F,K,Z,O,ge,F[K][Z]))},u=g=>{var ne;const{active:w,over:R}=g;if(!R){n(null),r(void 0);return}if(w.id!==R.id){const K=w.data.current.sortable.containerId,O=((ne=R.data.current)==null?void 0:ne.sortable.containerId)||R.id,Z=w.data.current.sortable.index,ge=R.id in e?e[O].length+1:R.data.current.sortable.index;t(V=>{let F;K===O?F={...V,[O]:Gt(V[O],Z,ge)}:F=Ue(V,K,Z,O,ge,V[K][Z]);for(let Ne in F)F[Ne].forEach((Ae,Ve)=>{Ae.sortId=Ve+1,Ae.containerId=+Ne});return F})}i(+P,zt(e)),n(null),r(void 0)},C=g=>{c(g),X({open:!0,type:N.EDIT})};return s.jsxs(Wt,{className:"Project-page",children:[s.jsxs("div",{className:"Project-page__title",children:[!E&&s.jsxs(s.Fragment,{children:[s.jsx("h2",{children:y.name}),s.jsx(k,{type:"primary",onClick:()=>X({open:!0,type:N.CREATE}),style:{marginLeft:"40px"},children:"Create Task"})]}),E&&s.jsx(Pe,{size:"small",className:"loader"})]}),s.jsxs(ms,{sensors:U,onDragStart:I,onDragCancel:Se,onDragOver:_e,onDragEnd:u,children:[s.jsxs("div",{className:"tasks-container",children:[!T&&s.jsx(gs,{gutter:12,children:S.length>0&&S.map((g,w)=>s.jsxs(p.Fragment,{children:[s.jsx(hs,{xs:24,sm:12,md:6,children:s.jsx(Ut,{id:g.id,items:e[g.id]||[],name:g.name,activeId:a,onClickTask:C},g._id)},g._id),w+1===S.length&&s.jsx(k,{className:"add-section-button",onClick:()=>f(!0),children:"Add section"})]},g._id))}),T&&s.jsx("div",{className:"loader",children:s.jsx(Pe,{size:"large"})})]}),s.jsx(js,{children:a?s.jsx(Ke,{id:a,task:o,dragOverlay:!0}):null})]}),W.open&&s.jsx(Jt,{projectId:+P,modal:W,setModal:X,selectedTask:d,setSelectedTask:c}),Y&&s.jsx(Kt,{projectId:+P,open:Y,setModal:f})]})},Yt=Ee({name:H().min(2,"Please, add at least 2 symbols").max(150,"Please, make it shorter than 50 symbols").required(ce),email:H().email("Invalid email").required(ce),profileImage:H().url("Invalid URL")}).required(),{Content:Zt}=ue,{TextArea:ea}=pe,sa=()=>{const{userId:e}=Me(),{getUser:t}=me(),{setAlert:a}=ae(),{user:n}=D(m=>m.users),o=z(),{control:r,handleSubmit:d,setValue:c,watch:i,formState:{errors:l,isDirty:h,isValid:b},reset:j}=be({defaultValues:{id:null,name:"",email:"",profileImage:"",job_title:"",phone:"",team:"",about:"",location:""},resolver:Ce(Yt),mode:"all"});p.useEffect(()=>{e&&(n==null?void 0:n.id)!==+e&&t(+e)},[e]),p.useEffect(()=>{n&&(c("id",n.id),c("name",n.name||""),c("email",n.email||""),c("profileImage",n.profileImage||""),c("job_title",n.job_title||""),c("phone",n.phone||""),c("team",n.team||""),c("about",n.about||""),c("location",n.location||""))},[n]);const y=m=>{c("profileImage",m),o(ie.setUser({...n,profileImage:m})),a({type:"success",message:"Image updated successfully!"})},E=m=>{o(ie.setUser(m)),a({type:"success",message:"Updated successfully!"}),j()},x=i("name");return s.jsx(Zt,{className:"ProfilePage",children:s.jsxs("form",{onSubmit:d(E),className:"profile-form",children:[s.jsxs("div",{className:"avatar-wrapper",children:[s.jsx(A,{name:"profileImage",control:r,render:({field:m})=>s.jsx(qe,{imageUrl:m.value,setImageUrl:y,type:"avatar"})}),s.jsx("h2",{children:x})]}),s.jsx(A,{name:"name",control:r,render:({field:m,fieldState:{error:S}})=>s.jsx(Q,{field:m,label:"Name",htmlFor:"name",required:!0,error:S})}),s.jsx(A,{name:"email",control:r,render:({field:m,fieldState:{error:S}})=>s.jsx(Q,{field:m,label:"Email",htmlFor:"email",required:!0,error:S,disabled:!0})}),s.jsx(A,{name:"phone",control:r,render:({field:m,fieldState:{error:S}})=>s.jsx(Q,{field:m,label:"Phone",htmlFor:"phone",error:S})}),s.jsx(A,{name:"job_title",control:r,render:({field:m,fieldState:{error:S}})=>s.jsx(Q,{field:m,label:"Job title",htmlFor:"job_title",error:S})}),s.jsx(A,{name:"team",control:r,render:({field:m,fieldState:{error:S}})=>s.jsx(Q,{field:m,label:"Team",htmlFor:"team",error:S})}),s.jsx(A,{name:"about",control:r,render:({field:m,fieldState:{error:S}})=>s.jsxs("div",{className:"Input",children:[s.jsx("label",{className:"input-label",children:"About"}),s.jsx(ea,{autoSize:{minRows:3,maxRows:20},maxLength:550,showCount:!0,...m})]})}),s.jsx(k,{type:"primary",htmlType:"submit",className:"save-button",disabled:!h||!b,children:"Save"})]})})},ta=()=>{const{projects:e}=D(r=>r.project),a=Be().pathname,n=e==null?void 0:e.map(r=>({key:`/projects/${r.id}`,icon:s.jsx(bs,{}),label:s.jsx(oe,{to:`/projects/${r.id}`,children:r.name})})),o=[{key:"/dashboard",icon:s.jsx(Cs,{}),label:s.jsx(oe,{to:"/dashboard",children:"Dashboard"})},{key:"/mywork",icon:s.jsx(Ss,{}),label:s.jsx(oe,{to:"/",children:"My Work"})},{key:"divider",disabled:!0,label:s.jsx(te,{}),style:{cursor:"default"}},...n||[]];return s.jsx("div",{className:"Sidebar",children:s.jsx(_s,{mode:"inline",items:o,className:"Sidebar__menu",selectedKeys:[a]})})},aa=({children:e})=>(Be(),s.jsxs("div",{className:"AppLayout",children:[s.jsx(ta,{}),s.jsx("div",{className:"Main",children:e})]})),na=()=>{const{alert:e,setAlert:t}=ae(),[a,n]=Te.useMessage(),o=(r,d)=>{d!=="clickaway"&&t({})};return p.useEffect(()=>{e.message&&a.open({key:"uniqueKey",type:e.type,content:e.message,duration:3,onClose:o,placement:"top"})},[e]),n},oa={projects:[],project:{},isFetching:!1},ra=(e=oa,t)=>{switch(t.type){case"PROJECTS_REQUEST":case"PROJECT_REQUEST":return{...e,isFetching:!0};case"PROJECTS_SUCCESS":return{...e,isFetching:!1,projects:t.payload};case"PROJECT_SUCCESS":return{...e,isFetching:!1,project:t.payload};case"ADD_PROJECT":return{...e,projects:[...e.projects,t.payload]};case"UPDATE_PROJECT":return{...e,projects:e.projects.map(a=>a.id===t.payload.id?t.payload:a)};case"PROJECTS_REQUEST_ERROR":case"PROJECT_REQUEST_ERROR":return{...e,isFetching:!1};default:return e}},ia={containers:[],isFetching:!1},la=(e=ia,t)=>{switch(t.type){case"PROJECT_CONTAINERS_REQUEST":return{...e,isFetching:!0};case"PROJECT_CONTAINERS_SUCCESS":return{...e,isFetching:!1,containers:t.payload};case"PROJECT_CONTAINERS_REQUEST_ERROR":return{...e,isFetching:!1};case"ADD_CONTAINER":return{...e,containers:[...e.containers,t.payload]};default:return e}},ca={tasks:[],isFetching:!1},da=(e=ca,t)=>{switch(t.type){case"PROJECT_TASKS_REQUEST":return{...e,isFetching:!0};case"PROJECT_TASKS_SUCCESS":return{...e,isFetching:!1,tasks:t.payload};case"PROJECT_TASKS_REQUEST_ERROR":case"UPDATE_TASKS_ERROR":return{...e,isFetching:!1};case"SET_NEW_TASK":return{...e,tasks:[...e.tasks,t.payload]};case"SET_TASK":return{...e,tasks:e.tasks.map(a=>a.id===t.payload.id?t.payload:a)};case"DELETE_TASK":return{...e,tasks:e.tasks.filter(a=>a.id!==t.payload)};default:return e}},ua={labels:[],isFetching:!1},pa=(e=ua,t)=>{switch(t.type){case"PROJECT_LABELS_REQUEST":return{...e,isFetching:!0};case"PROJECT_LABELS_SUCCESS":return{...e,isFetching:!1,labels:t.payload};case"PROJECT_LABELS_REQUEST_ERROR":return{...e,isFetching:!1};case"UPDATE_LABELS":return{...e,labels:t.payload};case"ADD_LABEL":return{...e,labels:[...e.labels,t.payload]};case"UPDATE_LABEL":return{...e,labels:e.labels.map(a=>a.id===t.payload.id?t.payload:a)};default:return e}},ma={user:null,users:[],isFetching:!1},ga=(e=ma,t)=>{switch(t.type){case"USER_REQUEST":return{...e,isFetching:!0};case"USER_SUCCESS":case"SET_USER":return{...e,isFetching:!1,user:t.payload};case"USER_REQUEST_ERROR":return{...e,isFetching:!1};default:return e}},ha=vs({project:ra,containers:la,tasks:da,labels:pa,users:ga}),ja=Rs(ha,Ts(Ps(ws))),fa=()=>{const{getProjects:e,getUser:t}=me();return p.useEffect(()=>{e(),t(1)},[]),s.jsx(ks,{children:s.jsxs("div",{className:"App",children:[s.jsx(Ms,{}),s.jsx(aa,{children:s.jsxs(Us,{children:[s.jsx(he,{path:"/dashboard",element:s.jsx(wt,{})}),s.jsx(he,{path:"/projects/:projId",element:s.jsx(Xt,{})}),s.jsx(he,{path:"/users/:userId",element:s.jsx(sa,{})}),s.jsx(he,{path:"*",element:s.jsx(Is,{to:"/dashboard",replace:!0})})]})}),s.jsx(na,{})]})})},ya=e=>s.jsx(Fs,{children:s.jsx(Ns,{store:ja,children:s.jsx(As,{theme:{hashed:!1,token:{fontFamily:"Rubik, sans-serif"}},children:s.jsx(fa,{...e})})})}),xa=Ds.createRoot(document.getElementById("root"));xa.render(s.jsx(ya,{}));
